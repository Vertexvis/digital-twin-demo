import { calcRedToGreenGradient } from './colors';

export interface Sensors {
  [key: string]: Sensor;
}

export interface Sensor {
  readonly data: SensorData[];
  readonly meta: SensorMeta;
}

export interface SensorMeta {
  readonly itemSuppliedIds: string[];
  readonly tsData: TsData;
  readonly name: string;
  readonly sensorId: string;
}

export interface SensorData {
  readonly avg: number;
  readonly min: number;
  readonly max: number;
  readonly std: number;
  readonly timestamp: string;
}

export interface RawSensors {
  [key: string]: RawSensor;
}

interface RawSensor {
  readonly data: SensorData[];
  readonly meta: RawSensorMeta;
}

interface RawSensorMeta {
  readonly name: string;
  readonly sensorId: string;
}

interface TsData {
  [timestamp: string]: { color: string; value: number };
}

export const MinValue = 5;

export const MaxValue = 15;

const data: RawSensors = {
  '1': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 7.076685569379078,
        max: 14.911578933092827,
        avg: 11.131789885609809,
        std: 0.23654586083230433,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 14.99313951791082,
        max: 14.995404494533151,
        avg: 14.99481852509449,
        std: 0.4678561703289824,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 7.539494127511766,
        max: 12.894083411765543,
        avg: 9.057182759348082,
        std: 0.3642968697740666,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 12.814511330927491,
        max: 12.942230828853251,
        avg: 12.846016600466559,
        std: 0.09338987572404212,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 5.002586920276116,
        max: 5.618159262224515,
        avg: 5.319770422882998,
        std: 0.3021205716112876,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 14.355219557067212,
        max: 14.934782016727643,
        avg: 14.403289086739022,
        std: 0.4084867318213298,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 10.377821092024025,
        max: 11.917467635012276,
        avg: 11.729614864209575,
        std: 0.07701996409251322,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 12.778078320894686,
        max: 14.90049650625454,
        avg: 14.622713388036493,
        std: 0.44848089278901115,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 9.018428759862132,
        max: 13.04753160205339,
        avg: 12.281848624909909,
        std: 0.3792683857089354,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 7.869993765163008,
        max: 11.913819363939004,
        avg: 10.530203545277498,
        std: 0.05248750083239195,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 9.05955175570542,
        max: 12.23426457056278,
        avg: 9.439568499899508,
        std: 0.32242811925089876,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 9.27604894514231,
        max: 11.77984264025573,
        avg: 11.334166180547458,
        std: 0.014289124582501866,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 9.126467390982867,
        max: 11.347491892083896,
        avg: 9.798937947162582,
        std: 0.25688562886523936,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 8.069996240443228,
        max: 11.086570347461475,
        avg: 9.803055608593999,
        std: 0.14219794904250915,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 13.449746386854425,
        max: 14.266209200750591,
        avg: 13.988353791414486,
        std: 0.15099867514604948,
      },
    ],
    meta: { name: 'A', sensorId: '1' },
  },
  '2': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 12.13349261875502,
        max: 14.351441018808888,
        avg: 12.458315311493765,
        std: 0.46818399728753035,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 8.926555429108518,
        max: 9.640332501465496,
        avg: 9.49193138077111,
        std: 0.11811756544370777,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 8.426488195694235,
        max: 11.27498533523153,
        avg: 10.662015028456231,
        std: 0.23240434028600088,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 7.012276116712021,
        max: 11.49971637449666,
        avg: 8.007484587815444,
        std: 0.2228375535926992,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 14.081204695014883,
        max: 14.33862100860012,
        avg: 14.0898209389763,
        std: 0.23522843217454092,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 10.693956470305643,
        max: 14.077539711728104,
        avg: 12.84625434643913,
        std: 0.4214826664422414,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 8.03514506975235,
        max: 12.078749089218348,
        avg: 8.237751117444851,
        std: 0.16681681878488086,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 10.873757376773296,
        max: 13.970693173836123,
        avg: 11.927934327880187,
        std: 0.04835829506,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 10.119510651156634,
        max: 11.921298127200702,
        avg: 10.530342097839828,
        std: 0.010998748588636698,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 13.24232211799065,
        max: 14.946160911052788,
        avg: 13.503757728131374,
        std: 0.48755366513758136,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 11.371105303963693,
        max: 11.711597646151674,
        avg: 11.419387889615454,
        std: 0.29721317542540093,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 11.762278161412372,
        max: 14.745091063651085,
        avg: 12.563985794562319,
        std: 0.16772043583575358,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 11.129370396819699,
        max: 12.76428448680285,
        avg: 11.468114304710033,
        std: 0.1827276359884149,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 6.347207180113319,
        max: 7.194399848225318,
        avg: 6.67870196216901,
        std: 0.3774961671996221,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 12.198923961968083,
        max: 13.218789058673034,
        avg: 12.949413474126825,
        std: 0.4454960239381138,
      },
    ],
    meta: { name: 'B', sensorId: '2' },
  },
  '3': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 9.985550827613917,
        max: 11.064085972895183,
        avg: 10.00996824837218,
        std: 0.4114739821314237,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 7.433402432014093,
        max: 11.419710378918355,
        avg: 9.733115468239204,
        std: 0.36081228726634595,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 14.174507014625002,
        max: 14.300091963971296,
        avg: 14.260868666802262,
        std: 0.47999402210622455,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 5.829158206241107,
        max: 8.617392398637492,
        avg: 8.518133629521929,
        std: 0.11200437006398767,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 9.697743318849694,
        max: 10.161774934453923,
        avg: 9.934350534084883,
        std: 0.2524378350506177,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 11.825922341261567,
        max: 14.267858635694077,
        avg: 12.72637179586033,
        std: 0.4521033461051619,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 12.47973445059814,
        max: 12.852748025090845,
        avg: 12.542578800179754,
        std: 0.11287750095103133,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 10.621505514778937,
        max: 11.287558711897624,
        avg: 11.085802263664386,
        std: 0.35272640737619987,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 5.345093078091394,
        max: 7.706887023501183,
        avg: 7.043857084273331,
        std: 0.330509673693389,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 8.07431861603116,
        max: 9.286454362083767,
        avg: 8.269650262142102,
        std: 0.3903092598414598,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 8.927955078402013,
        max: 14.266411636118109,
        avg: 13.237867373682995,
        std: 0.08005422522909789,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 11.10733804308902,
        max: 13.235838358902804,
        avg: 11.42616346727173,
        std: 0.19826553951236758,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 9.930476238441662,
        max: 11.371596846964412,
        avg: 10.97004287847815,
        std: 0.424662897596235,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 13.595894266770534,
        max: 14.172911846849633,
        avg: 14.125330976515054,
        std: 0.27237636052020386,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 5.465362567900951,
        max: 11.922590530248119,
        avg: 6.08393352076802,
        std: 0.3315589493393458,
      },
    ],
    meta: { name: 'C', sensorId: '3' },
  },
  '4': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 14.353129110330475,
        max: 14.691650233935544,
        avg: 14.661765662977011,
        std: 0.4877784003329134,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 14.022104694434145,
        max: 14.79825794392724,
        avg: 14.629744034719812,
        std: 0.21512272520376696,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 7.339161176607623,
        max: 12.328078798886017,
        avg: 9.909777015993859,
        std: 0.2712396791912398,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 8.293098107479258,
        max: 13.910333353656503,
        avg: 9.255054694955358,
        std: 0.16291395920275464,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 5.262604346631912,
        max: 12.206165354751372,
        avg: 5.659549540059159,
        std: 0.0735867390207885,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 12.39975164820371,
        max: 12.512247813657421,
        avg: 12.416760800690872,
        std: 0.1488843191447916,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 14.124245062028088,
        max: 14.661348168655659,
        avg: 14.158499959930058,
        std: 0.18638520367628675,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 12.062118034596029,
        max: 13.468051678651632,
        avg: 12.941147756599577,
        std: 0.4200715454348388,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 9.37167060080265,
        max: 10.201777351437162,
        avg: 9.507044923907245,
        std: 0.15766235365938797,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 5.622033434520546,
        max: 8.927361620296804,
        avg: 6.280101639549537,
        std: 0.09396841209836315,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 6.468124573564557,
        max: 14.674339389837298,
        avg: 8.371320618392925,
        std: 0.4969260215368606,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 12.406803931507957,
        max: 14.670745347988545,
        avg: 13.736070594544586,
        std: 0.026143387967013876,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 5.235452191749188,
        max: 8.649432565384664,
        avg: 6.485992754302966,
        std: 0.4774475656891306,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 10.52698271720397,
        max: 10.69836580118294,
        avg: 10.657096286363803,
        std: 0.007733570499119935,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 6.728918468245699,
        max: 12.034745799587977,
        avg: 10.721667236927022,
        std: 0.06037023534470276,
      },
    ],
    meta: { name: 'D', sensorId: '4' },
  },
  '5': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 13.309067538862628,
        max: 14.268075314485225,
        avg: 14.155374876183663,
        std: 0.15948361938094247,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 6.8215389499611945,
        max: 8.50582132332466,
        avg: 6.970925062546744,
        std: 0.31218014607495426,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 14.154957995034692,
        max: 14.621974162289316,
        avg: 14.188986489889666,
        std: 0.28945774117750345,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 11.034581795838793,
        max: 11.311602115145929,
        avg: 11.050718199894096,
        std: 0.3418848924345419,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 14.4752460542972,
        max: 14.858865425366329,
        avg: 14.81435936804345,
        std: 0.055973188429322085,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 13.122629155774261,
        max: 14.801794896162727,
        avg: 14.380274490265812,
        std: 0.40996018299676906,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 6.6881540670422375,
        max: 13.270088374566388,
        avg: 10.423539410675012,
        std: 0.3699692428617516,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 5.429408731209644,
        max: 13.514697171273356,
        avg: 6.946649341953372,
        std: 0.4789714285770722,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 8.307483874271957,
        max: 13.072398344434704,
        avg: 10.015014858345271,
        std: 0.40275932192088937,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 14.91195250400644,
        max: 14.990354699319285,
        avg: 14.947457268035048,
        std: 0.15697638696837013,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 14.475773354734628,
        max: 14.653562043695784,
        avg: 14.508602504027664,
        std: 0.0010702295941796836,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 10.108753056293647,
        max: 14.13974363333071,
        avg: 10.408504902187557,
        std: 0.24200568955764956,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 14.313511282898087,
        max: 14.469570716289887,
        avg: 14.402525598158686,
        std: 0.06681594485716491,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 8.18444476325782,
        max: 14.88593834077465,
        avg: 11.523570907455165,
        std: 0.14126973143504928,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 14.274430101325384,
        max: 14.573195742132562,
        avg: 14.37107690940649,
        std: 0.29050825140883996,
      },
    ],
    meta: { name: 'E', sensorId: '5' },
  },
  '6': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 8.691868302086107,
        max: 14.131044962395787,
        avg: 13.293585519041224,
        std: 0.07208318280916959,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 11.52988714791039,
        max: 14.755173082723031,
        avg: 12.354914951345757,
        std: 0.2783449967530943,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 13.714341003961838,
        max: 14.119757548107838,
        avg: 13.940413505251836,
        std: 0.3739497291527053,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 13.233549461910453,
        max: 14.417653445326428,
        avg: 13.793608543421113,
        std: 0.3204831757118932,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 12.869727706792162,
        max: 13.403422339418192,
        avg: 13.008118716595611,
        std: 0.49921435067729547,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 11.56977429752867,
        max: 14.45961311201928,
        avg: 13.399544886756514,
        std: 0.4587043298883663,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 11.913832389741199,
        max: 13.71902011790189,
        avg: 12.970886377081902,
        std: 0.362234873970662,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 7.332143891302419,
        max: 11.150846112300936,
        avg: 8.17238571845911,
        std: 0.49875168326754926,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 13.428998071473192,
        max: 13.532091855615379,
        avg: 13.508429725014336,
        std: 0.09838669925862376,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 11.62101193386823,
        max: 12.984707792244112,
        avg: 11.839415194740045,
        std: 0.4992285781082818,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 13.943782092837953,
        max: 13.951754285885125,
        avg: 13.94419064088048,
        std: 0.06969339758329252,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 7.636037384131242,
        max: 12.035960881675507,
        avg: 10.703811390504473,
        std: 0.3219633433771396,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 9.246749254288051,
        max: 13.831466971879525,
        avg: 10.108771972375875,
        std: 0.4438493920929397,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 11.443858703497119,
        max: 13.625767525435457,
        avg: 12.442437327742011,
        std: 0.2201597449634608,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 12.542983016611583,
        max: 14.786173104653205,
        avg: 13.65528889359627,
        std: 0.44676312523954653,
      },
    ],
    meta: { name: 'F', sensorId: '6' },
  },
  '7': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 13.837956749168656,
        max: 14.109870016823704,
        avg: 13.900223385226322,
        std: 0.0607644390299924,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 7.232426538350367,
        max: 11.233986674900235,
        avg: 9.292031775548836,
        std: 0.08122677581951387,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 9.69816067285909,
        max: 14.506240202474583,
        avg: 13.47817922296575,
        std: 0.12900855471433026,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 9.407728889935939,
        max: 10.067817163772997,
        avg: 9.822330737661538,
        std: 0.04774294201089846,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 12.669926271247252,
        max: 14.893271902641807,
        avg: 14.276941323850913,
        std: 0.13743675012736334,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 10.772413520911526,
        max: 13.130740577864728,
        avg: 11.097944279257309,
        std: 0.33980107316415353,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 13.65789635281224,
        max: 14.303955463197811,
        avg: 14.240154144794866,
        std: 0.0018089780194425753,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 10.451669012061464,
        max: 12.858004178169944,
        avg: 11.923071760102099,
        std: 0.43308399763563943,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 14.55952848098714,
        max: 14.614636202920051,
        avg: 14.571321144395235,
        std: 0.1728568259420773,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 9.613831156558373,
        max: 10.960599657513232,
        avg: 9.881225122888418,
        std: 0.35627995541607127,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 10.902931781687627,
        max: 10.915910327526015,
        avg: 10.903568058145945,
        std: 0.05141532934832849,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 9.510521170011168,
        max: 9.974996682027568,
        avg: 9.579868586473985,
        std: 0.157193028348109,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 7.5745263307812465,
        max: 12.164404537606927,
        avg: 7.595492188452281,
        std: 0.3501687749228759,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 12.671602321912307,
        max: 14.787660588473088,
        avg: 13.723358994901638,
        std: 0.3522069537565572,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 8.368535774455399,
        max: 14.581242519884132,
        avg: 8.88188876741321,
        std: 0.03250580521697766,
      },
    ],
    meta: { name: 'G', sensorId: '7' },
  },
  '8': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 5.462664432628821,
        max: 10.639346160690145,
        avg: 5.68600437262485,
        std: 0.022513541042357033,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 7.564373319773292,
        max: 10.788125738287055,
        avg: 8.717095811450033,
        std: 0.024385465550034513,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 8.528178993874283,
        max: 9.22882420020349,
        avg: 8.825246579866965,
        std: 0.4389899726949992,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 10.668504374710132,
        max: 10.763854118270313,
        avg: 10.676899516960976,
        std: 0.21239891638745867,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 5.977825388506249,
        max: 11.938115303575273,
        avg: 7.218680540212333,
        std: 0.07699702568881106,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 13.367039878315474,
        max: 13.985973642867483,
        avg: 13.689573904528238,
        std: 0.01530086335491121,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 8.106386424994936,
        max: 10.630994402209634,
        avg: 9.510926657089922,
        std: 0.11178904272727119,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 13.061219756658751,
        max: 13.36863899360961,
        avg: 13.299180552684792,
        std: 0.2300148968312551,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 11.166942334742966,
        max: 12.49351308328984,
        avg: 11.343074518688953,
        std: 0.05267825061752096,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 7.335085872380242,
        max: 9.875575369503265,
        avg: 9.612015823222343,
        std: 0.4396780917210552,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 10.046669865799537,
        max: 10.772560184560021,
        avg: 10.317973340270918,
        std: 0.10362233574372537,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 7.656890371140037,
        max: 14.2197151055346,
        avg: 12.279602982297021,
        std: 0.3309438214486653,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 7.241299321245489,
        max: 10.562620486991612,
        avg: 8.127346028836016,
        std: 0.3122088736898415,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 8.606482184289892,
        max: 13.575003582246122,
        avg: 13.46605311897865,
        std: 0.3756707303147211,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 5.563571696847196,
        max: 7.143915894144977,
        avg: 6.791535774338546,
        std: 0.18014721200753758,
      },
    ],
    meta: { name: 'H', sensorId: '8' },
  },
};

const sensorIds = Object.keys(data);

const sensorToItemSuppliedId: { [sensorId: string]: string[] } = {
  '1': ['r/216'],
  '2': ['r/1969', 'r/1754', 'r/3238'],
  '3': ['r/589', 'r/607', 'r/511', 'r/573', 'r/564'],
  '4': ['r/3989', 'r/6817'],
  '5': ['r/5467', 'r/4891'],
  '6': ['r/10444'],
  '7': ['r/10635', 'r/1669', 'r/6377', 'r/2760', 'r/5077', 'r/2183'],
  '8': ['r/10798', 'r/9986', 'r/6204'],
};

export function getSensors(): { sensors: Sensors; sensorIds: string[] } {
  function enrich(sensor: RawSensor): Sensor {
    const tsData: TsData = {};
    sensor.data.forEach(
      (d) =>
        (tsData[d.timestamp] = {
          color: calcRedToGreenGradient(
            ((d.avg - MinValue) / (MaxValue - MinValue)) * 100,
            true
          ),
          value: d.avg,
        })
    );

    return {
      data: sensor.data,
      meta: {
        ...sensor.meta,
        itemSuppliedIds: sensorToItemSuppliedId[sensor.meta.sensorId],
        tsData,
      },
    };
  }

  const enriched: Sensors = {};
  sensorIds.map((id) => (enriched[id] = enrich(data[id])));
  return { sensors: enriched, sensorIds };
}

export function formatValue(num: number): string {
  return num.toFixed(3);
}
