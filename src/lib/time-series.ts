import { calcRedToGreenGradient } from './colors';

export interface Sensors {
  [key: string]: Sensor;
}

export interface Sensor {
  readonly data: SensorData[];
  readonly meta: SensorMeta;
}

export interface SensorMeta {
  readonly itemSuppliedIds: string[];
  readonly tsData: TsData;
  readonly name: string;
  readonly sensorId: string;
}

export interface SensorData {
  readonly avg: number;
  readonly min: number;
  readonly max: number;
  readonly std: number;
  readonly timestamp: string;
}

export interface RawSensors {
  [key: string]: RawSensor;
}

interface RawSensor {
  readonly data: SensorData[];
  readonly meta: RawSensorMeta;
}

interface RawSensorMeta {
  readonly name: string;
  readonly sensorId: string;
  readonly itemSuppliedIds: string[];
}

interface TsData {
  [timestamp: string]: { color: string; value: number };
}

export const MinValue = 5;

export const MaxValue = 15;

const data: RawSensors = {
  '1': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 13.805100700375561,
        max: 14.067596504378104,
        avg: 13.842585156549564,
        std: 0.3138257107054574,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 12.383289603170395,
        max: 12.609208465325711,
        avg: 12.533839687747182,
        std: 0.4069645062257785,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 14.438216143086791,
        max: 14.625973594153871,
        avg: 14.61449266714411,
        std: 0.1325431405670846,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 7.145696307602643,
        max: 14.760172297802297,
        avg: 14.47311721201061,
        std: 0.28085896413106115,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 5.159458506403167,
        max: 8.543125140811993,
        avg: 6.900919320254959,
        std: 0.3948740404841543,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 10.205741881684443,
        max: 13.472900498688638,
        avg: 11.014238461809951,
        std: 0.10463319084244282,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 8.870951430061698,
        max: 8.973661317561255,
        avg: 8.968360761999058,
        std: 0.33767052608937664,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 5.467853945752383,
        max: 9.234110231792805,
        avg: 7.7217626169524705,
        std: 0.46080536208391865,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 12.219812618836201,
        max: 14.176573653103077,
        avg: 12.590155343867593,
        std: 0.4209276036980085,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 10.61039377150193,
        max: 14.080736962172347,
        avg: 11.877474532364896,
        std: 0.3830427720729196,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 7.9514978216458365,
        max: 14.85868681490154,
        avg: 13.346977134867211,
        std: 0.016403449059697484,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 7.588363354401673,
        max: 13.47980794768344,
        avg: 7.674554631150637,
        std: 0.41445506292815637,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 14.227983037441494,
        max: 14.309066105089062,
        avg: 14.232453398395727,
        std: 0.2987469164758807,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 11.878670635345397,
        max: 12.498943037590521,
        avg: 11.944828717518076,
        std: 0.34742698642429903,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 7.518904110552899,
        max: 14.725392894671334,
        avg: 9.681224082653468,
        std: 0.4438522665391974,
      },
    ],
    meta: { name: 'A', sensorId: '1', itemSuppliedIds: ['r/216'] },
  },
  '2': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 5.41736441314711,
        max: 13.790675435084434,
        avg: 11.33248561828093,
        std: 0.412852032117649,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 8.315182847232007,
        max: 9.259695790772044,
        avg: 8.319842404418278,
        std: 0.271488409118667,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 5.795821687733245,
        max: 13.880161017094723,
        avg: 12.182010225585703,
        std: 0.28534184232909854,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 8.192725226295405,
        max: 9.673624549754878,
        avg: 8.563105259382061,
        std: 0.3264168390522847,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 7.296397527372697,
        max: 9.729656558329722,
        avg: 8.036953332225782,
        std: 0.2332496294638614,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 12.756047230428765,
        max: 13.60598675048017,
        avg: 12.81118703352908,
        std: 0.42551211493433405,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 12.298861088323198,
        max: 13.912022232700195,
        avg: 13.793700940648996,
        std: 0.21289229971630352,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 7.60487527859696,
        max: 13.611125456070425,
        avg: 12.589067476022677,
        std: 0.366078891082963,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 12.8078397037455,
        max: 14.422940929282424,
        avg: 14.407528405917846,
        std: 0.12777119886045873,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 8.996745174316548,
        max: 11.772577194843757,
        avg: 11.424409188609799,
        std: 0.02532533679529292,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 14.325247098113687,
        max: 14.696075163542497,
        avg: 14.408654305643,
        std: 0.31356323270162123,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 13.013385926531281,
        max: 14.759969749178934,
        avg: 13.839007619964422,
        std: 0.0665398077136985,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 8.930336532925631,
        max: 10.14715540726253,
        avg: 9.677649933677,
        std: 0.17709535099044693,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 9.377411266808961,
        max: 14.06907590839537,
        avg: 13.945870115176783,
        std: 0.2949313362720303,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 10.093054678984647,
        max: 10.946855229511185,
        avg: 10.3626985911919,
        std: 0.1813750342839453,
      },
    ],
    meta: {
      name: 'B',
      sensorId: '2',
      itemSuppliedIds: ['r/1969', 'r/1754', 'r/3238'],
    },
  },
  '3': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 12.441886302681466,
        max: 14.135558776162261,
        avg: 12.848900160210404,
        std: 0.24197554195120363,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 9.496854792809925,
        max: 14.966181177999028,
        avg: 11.379304325382266,
        std: 0.2035785201678768,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 12.72399073695109,
        max: 13.119108286588638,
        avg: 12.765219920576078,
        std: 0.19367088888216644,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 7.111802471653519,
        max: 12.88794613543414,
        avg: 9.954474088706785,
        std: 0.109356340360927,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 11.18201831477923,
        max: 12.115333206594887,
        avg: 12.07448298182269,
        std: 0.03526186019219013,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 14.543049421836141,
        max: 14.664926033008262,
        avg: 14.572153425258644,
        std: 0.15329791398410653,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 8.255417496155852,
        max: 14.372167297661814,
        avg: 12.429564113695001,
        std: 0.026278751885620677,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 5.908369666571516,
        max: 7.399686949035076,
        avg: 7.396635864788443,
        std: 0.3488575453166416,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 11.557220119172786,
        max: 12.387722833407894,
        avg: 12.261830129639304,
        std: 0.017462487332776,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 8.078976418245851,
        max: 14.064551040112605,
        avg: 8.26223502147246,
        std: 0.22564748889281838,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 5.240145262714908,
        max: 11.693786174632057,
        avg: 6.430569917071462,
        std: 0.2192385770028209,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 6.52925070547324,
        max: 12.05966637110788,
        avg: 8.319055578214474,
        std: 0.06517212573497844,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 8.995124202941291,
        max: 14.789207261800959,
        avg: 12.498741845944316,
        std: 0.19727426972396112,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 6.955002312351182,
        max: 10.347080330890979,
        avg: 9.095592916300983,
        std: 0.43402880902228946,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 10.219770642391932,
        max: 11.56505299760586,
        avg: 11.342255729549013,
        std: 0.15607636106930756,
      },
    ],
    meta: {
      name: 'C',
      sensorId: '3',
      itemSuppliedIds: ['r/589', 'r/607', 'r/511', 'r/573', 'r/564'],
    },
  },
  '4': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 14.585906784433602,
        max: 14.594625892659948,
        avg: 14.588843589497099,
        std: 0.2864988897837294,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 8.78209071364494,
        max: 13.207717684973991,
        avg: 9.307232211441292,
        std: 0.32335037315678916,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 14.816483560194825,
        max: 14.834979842573436,
        avg: 14.828271219738992,
        std: 0.047950544023365405,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 8.227619651473736,
        max: 12.326239129771182,
        avg: 8.86707713375911,
        std: 0.2023016723202602,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 5.236783355562322,
        max: 12.570328954007916,
        avg: 9.7290345921787,
        std: 0.32389211498903026,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 12.096497475548983,
        max: 14.075017561052322,
        avg: 12.538704084853684,
        std: 0.42872496246850755,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 10.712347554697125,
        max: 14.77752577710211,
        avg: 12.157551408957394,
        std: 0.285445763628302,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 7.6260322803674985,
        max: 14.497347084455342,
        avg: 13.44161304124851,
        std: 0.22031821471679514,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 8.768884875404826,
        max: 9.898097737444063,
        avg: 9.716684908622987,
        std: 0.15006421237068068,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 9.300688449636327,
        max: 13.687703551658009,
        avg: 11.406700962511344,
        std: 0.34045356923046777,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 13.298672441621589,
        max: 13.405572971832706,
        avg: 13.317449136341688,
        std: 0.2781165061820804,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 11.053498053989134,
        max: 13.219812791743083,
        avg: 12.693699317168447,
        std: 0.29319851735991764,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 5.866334745086402,
        max: 10.934493965574028,
        avg: 8.10574769959753,
        std: 0.15151159151183868,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 13.009755543969774,
        max: 13.17473423040706,
        avg: 13.07965930451353,
        std: 0.05859442969101347,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 6.775010074636052,
        max: 14.025329743519947,
        avg: 8.403485980189865,
        std: 0.06842321061233692,
      },
    ],
    meta: { name: 'D', sensorId: '4', itemSuppliedIds: ['r/3989', 'r/6817'] },
  },
  '5': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 5.641200589555185,
        max: 10.310227261721565,
        avg: 7.859935180925174,
        std: 0.07732654398468197,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 14.055390031443553,
        max: 14.610547040848216,
        avg: 14.529258943098906,
        std: 0.0945919446182063,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 5.2357923094789545,
        max: 13.627104908648676,
        avg: 13.447889272714567,
        std: 0.35423562392615005,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 11.699776520645983,
        max: 13.401890789915448,
        avg: 13.15379456254589,
        std: 0.03791518830850693,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 5.902866872000532,
        max: 12.754760472101577,
        avg: 9.2077197838521,
        std: 0.2289740328166815,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 12.115829849782964,
        max: 14.073988361644632,
        avg: 13.689105709263952,
        std: 0.2116875080413273,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 10.306943832386324,
        max: 11.727124096456246,
        avg: 11.276462757450954,
        std: 0.06663547494633071,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 11.258795470426112,
        max: 14.451114960904528,
        avg: 13.542087878868147,
        std: 0.32370268014234727,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 6.192457732411427,
        max: 7.903322226802163,
        avg: 6.897145612230346,
        std: 0.031037648950378416,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 11.70462465479282,
        max: 13.631704466474192,
        avg: 13.469057171837592,
        std: 0.2019619999257577,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 10.985571240170142,
        max: 12.750607708789218,
        avg: 11.625470247282843,
        std: 0.0075189582062126226,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 13.841684746129328,
        max: 14.423896245633095,
        avg: 14.23716091766311,
        std: 0.44585536631319034,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 7.98882725242499,
        max: 10.907457484562489,
        avg: 9.730480152328104,
        std: 0.24209651575653224,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 13.521232870754545,
        max: 13.816789736746921,
        avg: 13.77421393087656,
        std: 0.43500371057381315,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 8.830143696007733,
        max: 14.664329354272928,
        avg: 14.169095525671159,
        std: 0.29125646066122135,
      },
    ],
    meta: { name: 'E', sensorId: '5', itemSuppliedIds: ['r/5467', 'r/4891'] },
  },
  '6': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 9.980443716713436,
        max: 13.457000638559226,
        avg: 11.33150692965581,
        std: 0.29251767880330126,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 9.644011856777272,
        max: 13.95570409423124,
        avg: 9.928836701138787,
        std: 0.2373991402426413,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 13.57496344894669,
        max: 14.250805297326433,
        avg: 13.693347853125086,
        std: 0.007077475574422509,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 5.553296959879099,
        max: 13.012969881448324,
        avg: 10.577395493892373,
        std: 0.21853006111504758,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 11.581548955092115,
        max: 14.409942267957147,
        avg: 12.877029830556179,
        std: 0.3705446783485703,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 9.371078473302477,
        max: 13.134811387479639,
        avg: 11.477199367877192,
        std: 0.30908678336369644,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 6.8050971590424485,
        max: 14.668250916613182,
        avg: 9.445285469652681,
        std: 0.42069986257734815,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 6.17921306114082,
        max: 7.923543395932914,
        avg: 6.974694046751576,
        std: 0.4953901012221892,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 7.117526229267385,
        max: 14.71719609895438,
        avg: 10.274211577461937,
        std: 0.24178558013080476,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 7.020713249883956,
        max: 8.761917497187884,
        avg: 8.45322005045554,
        std: 0.3509171211433376,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 14.351362652731343,
        max: 14.705335454972898,
        avg: 14.420300245264862,
        std: 0.009644969976943862,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 11.12817008882772,
        max: 11.762163375318066,
        avg: 11.467907305350602,
        std: 0.3043525952541982,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 8.26720506580996,
        max: 14.34821363293364,
        avg: 11.008712418888216,
        std: 0.24351882397604707,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 14.415768379348915,
        max: 14.605347610410604,
        avg: 14.495486742609343,
        std: 0.41039221982186447,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 9.175181180930496,
        max: 11.894813206779187,
        avg: 10.665872614282183,
        std: 0.42017842386040327,
      },
    ],
    meta: { name: 'F', sensorId: '6', itemSuppliedIds: ['r/10444'] },
  },
  '7': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 11.438733337648516,
        max: 14.573510884001923,
        avg: 14.443677304812311,
        std: 0.382675757599123,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 14.873667705391409,
        max: 14.904099383243798,
        avg: 14.90348668441828,
        std: 0.25376387094641284,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 12.323887051465956,
        max: 13.79654362653666,
        avg: 12.990985705890449,
        std: 0.2536093887884424,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 14.855667419621124,
        max: 14.930352997551779,
        avg: 14.859603988975985,
        std: 0.05466911638036975,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 14.351038904299392,
        max: 14.64803781073363,
        avg: 14.610652942517815,
        std: 0.3183702849629769,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 7.798409738540544,
        max: 14.851620148525758,
        avg: 13.588451650155783,
        std: 0.19798769376946268,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 10.109201506815065,
        max: 13.54453918178678,
        avg: 12.158702721607593,
        std: 0.19047875956782723,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 11.46016759967267,
        max: 12.159108905129415,
        avg: 11.828155027385673,
        std: 0.4864021123628792,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 12.565557651325186,
        max: 14.830639994841105,
        avg: 13.470470574399009,
        std: 0.293725974412379,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 13.4765579218446,
        max: 13.524749952801155,
        avg: 13.517689832407292,
        std: 0.37915403029891237,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 8.891229013734606,
        max: 13.896981740950864,
        avg: 9.393698237878276,
        std: 0.2113868976725568,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 6.873627130402755,
        max: 8.529490483734701,
        avg: 7.740358751415947,
        std: 0.08623323541618833,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 12.491874797632844,
        max: 13.148912862718904,
        avg: 12.593023117803808,
        std: 0.2463159026573154,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 13.47258866561277,
        max: 14.050535897479122,
        avg: 13.846577346441501,
        std: 0.3327484389700571,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 11.355703683848787,
        max: 14.542530094518092,
        avg: 12.659397728100178,
        std: 0.1811454249186396,
      },
    ],
    meta: {
      name: 'G',
      sensorId: '7',
      itemSuppliedIds: [
        'r/10635',
        'r/1669',
        'r/6377',
        'r/2760',
        'r/5077',
        'r/2183',
      ],
    },
  },
  '8': {
    data: [
      {
        timestamp: '2021-04-01T12:15:00.000Z',
        min: 8.509004627441584,
        max: 12.15333728689577,
        avg: 9.217995304774902,
        std: 0.1986805116305005,
      },
      {
        timestamp: '2021-04-01T12:15:01.000Z',
        min: 11.016006239058509,
        max: 11.663130258686243,
        avg: 11.353825870438712,
        std: 0.1992460364028773,
      },
      {
        timestamp: '2021-04-01T12:15:02.000Z',
        min: 5.439734351273122,
        max: 9.48994001071661,
        avg: 7.989643010140037,
        std: 0.3457897594969237,
      },
      {
        timestamp: '2021-04-01T12:15:03.000Z',
        min: 6.209014723206203,
        max: 12.927520776886627,
        avg: 11.393460231777677,
        std: 0.11136211435429177,
      },
      {
        timestamp: '2021-04-01T12:15:04.000Z',
        min: 11.132405253350779,
        max: 14.128879306052735,
        avg: 12.724967511839811,
        std: 0.031533084457986194,
      },
      {
        timestamp: '2021-04-01T12:15:05.000Z',
        min: 11.93222899624099,
        max: 14.465712765437864,
        avg: 12.761101425896419,
        std: 0.015590818439554899,
      },
      {
        timestamp: '2021-04-01T12:15:06.000Z',
        min: 11.019822126856333,
        max: 13.95656112479056,
        avg: 11.635740657787947,
        std: 0.11104862055160547,
      },
      {
        timestamp: '2021-04-01T12:15:07.000Z',
        min: 5.962486114108449,
        max: 9.715509509593424,
        avg: 6.0214284094864805,
        std: 0.06482316914006603,
      },
      {
        timestamp: '2021-04-01T12:15:08.000Z',
        min: 13.455702053663082,
        max: 14.451178719713395,
        avg: 14.32140121134013,
        std: 0.40125857080129435,
      },
      {
        timestamp: '2021-04-01T12:15:09.000Z',
        min: 6.189273659320939,
        max: 11.173380468617053,
        avg: 8.980247231715463,
        std: 0.10482961920788081,
      },
      {
        timestamp: '2021-04-01T12:15:10.000Z',
        min: 13.346231502350461,
        max: 14.572265360952208,
        avg: 13.57493722392772,
        std: 0.2893829359991187,
      },
      {
        timestamp: '2021-04-01T12:15:11.000Z',
        min: 10.196419055213621,
        max: 13.620249424267907,
        avg: 11.715201127258108,
        std: 0.004173503689840263,
      },
      {
        timestamp: '2021-04-01T12:15:12.000Z',
        min: 12.427427533701465,
        max: 13.674198369645467,
        avg: 13.013715695495174,
        std: 0.08007169807346959,
      },
      {
        timestamp: '2021-04-01T12:15:13.000Z',
        min: 5.596909969337376,
        max: 12.508220069387006,
        avg: 12.48434309074229,
        std: 0.07042338867360609,
      },
      {
        timestamp: '2021-04-01T12:15:14.000Z',
        min: 8.746804618140008,
        max: 13.527863660443625,
        avg: 13.148922927091883,
        std: 0.19940646320750666,
      },
    ],
    meta: {
      name: 'H',
      sensorId: '8',
      itemSuppliedIds: ['r/10798', 'r/9986', 'r/6204'],
    },
  },
};

const sensorIds = Object.keys(data);
export function getSensors(): { sensors: Sensors; sensorIds: string[] } {
  function enrich(sensor: RawSensor): Sensor {
    const tsData: TsData = {};
    sensor.data.forEach(
      (d) =>
        (tsData[d.timestamp] = {
          color: calcRedToGreenGradient(
            ((d.avg - MinValue) / (MaxValue - MinValue)) * 100,
            true
          ),
          value: d.avg,
        })
    );

    return {
      data: sensor.data,
      meta: {
        ...sensor.meta,
        tsData,
      },
    };
  }

  const enriched: Sensors = {};
  sensorIds.forEach((id) => (enriched[id] = enrich(data[id])));
  return { sensors: enriched, sensorIds };
}

export function formatValue(num: number): string {
  return num.toFixed(3);
}
